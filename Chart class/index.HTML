<!-- <!DOCTYPE html> -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Dynamic Line Chart</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div id="chart-container" class="chart"></div>
  <div id="chart-commands" class="chart"></div>
  <button onclick="get('debug').innerHTML=''">Clear</button>
  <textarea id="debug" rows="20" cols="80"></textarea>
  <script src="tools.js"></script>
  <script src="script.js"></script>
  <script>
    const chart = new LineChart('chart-container', 'chart-commands');

    // Adding data series
    chart.addSeries('Sin', 'red');
    chart.addSeries('Cos', 'blue');
    chart.addSeries('Sinc', 'green');
    //chart.addSeries('Single','red');
    
    if(0){ 
    for(let x=-10;x<=10;x+=.1)
      chart.addPoint('Sinc', x, x==0?1:Math.sin(x)/x);
	for(let x=-10;x<=10;x+=.1)
      chart.addPoint('Cos', x, Math.cos(x));
	for(let x=-10;x<=10;x+=.1)
      chart.addPoint('Sin', x, Math.sin(x));
    }

	let int1=null;
    if(1){
    let x = -50;
    int1 = setInterval( () => {
      chart.addPoint('Sin', x, Math.sin(x));
      chart.addPoint('Cos', x, Math.cos(x));
	  chart.addPoint('Sinc', x, x==0?1:Math.sin(x)/x);
      x+=.1;
    }, 10);}  

	if (int1)
	setTimeout(()=>{
		clearInterval(int1);
		dbg("Stopped int1");
	}, 10000);
  </script> 
</body>
</html>
